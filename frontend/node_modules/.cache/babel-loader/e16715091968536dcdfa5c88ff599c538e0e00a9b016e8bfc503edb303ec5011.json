{"ast":null,"code":"var _jsxFileName = \"E:\\\\swiftlogix.shlok\\\\frontend\\\\src\\\\pages\\\\customer\\\\CreateOrder.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { motion } from 'framer-motion';\nimport { MapPin, Package, Camera, Calculator, ArrowLeft, Navigation, Loader } from 'lucide-react';\nimport { MapContainer, TileLayer, Marker, Popup, useMap } from 'react-leaflet';\nimport L from 'leaflet';\nimport Layout from '../../components/Layout/Layout';\nimport api from '../../utils/api';\nimport toast from 'react-hot-toast';\nimport LoadingSpinner from '../../components/LoadingSpinner';\n\n// Fix for default markers in react-leaflet\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\ndelete L.Icon.Default.prototype._getIconUrl;\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png',\n  iconUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png',\n  shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png'\n});\n\n// Custom icons for pickup and drop locations\nconst createCustomIcon = (color, symbol) => {\n  return L.divIcon({\n    html: `\n      <div style=\"\n        background-color: ${color};\n        width: 30px;\n        height: 30px;\n        border-radius: 50%;\n        border: 3px solid white;\n        box-shadow: 0 2px 8px rgba(0,0,0,0.3);\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        color: white;\n        font-size: 14px;\n        font-weight: bold;\n      \">\n        ${symbol}\n      </div>\n    `,\n    className: 'custom-div-icon',\n    iconSize: [30, 30],\n    iconAnchor: [15, 15]\n  });\n};\nconst pickupIcon = createCustomIcon('#22c55e', 'P');\nconst dropIcon = createCustomIcon('#ef4444', 'D');\n\n// Component to update map view when coordinates change\nconst MapUpdater = ({\n  center,\n  zoom\n}) => {\n  _s();\n  const map = useMap();\n  useEffect(() => {\n    if (center && center[0] && center[1]) {\n      map.setView(center, zoom);\n    }\n  }, [center, zoom, map]);\n  return null;\n};\n_s(MapUpdater, \"IoceErwr5KVGS9kN4RQ1bOkYMAg=\", false, function () {\n  return [useMap];\n});\n_c = MapUpdater;\nconst CreateOrder = () => {\n  _s2();\n  const navigate = useNavigate();\n  const [formData, setFormData] = useState({\n    pickup_location: '',\n    pickup_lat: '',\n    pickup_lng: '',\n    drop_location: '',\n    drop_lat: '',\n    drop_lng: '',\n    material_type: '',\n    material_description: '',\n    material_weight: '',\n    distance_km: '',\n    fare_total: ''\n  });\n  const [materialPhoto, setMaterialPhoto] = useState(null);\n  const [photoPreview, setPhotoPreview] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [fareCalculated, setFareCalculated] = useState(false);\n\n  // Geocoding and location states\n  const [geocodingPickup, setGeocodingPickup] = useState(false);\n  const [geocodingDrop, setGeocodingDrop] = useState(false);\n  const [gettingLocation, setGettingLocation] = useState(false);\n  const [mapCenter, setMapCenter] = useState([19.0760, 72.8777]); // Default to Mumbai\n  const [mapZoom, setMapZoom] = useState(10);\n\n  // Debounce timers for address input\n  const pickupTimeoutRef = useRef(null);\n  const dropTimeoutRef = useRef(null);\n\n  // Geocoding function using OpenStreetMap Nominatim API\n  const geocodeAddress = async address => {\n    try {\n      const response = await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(address)}&limit=1&countrycodes=in`);\n      const data = await response.json();\n      if (data && data.length > 0) {\n        return {\n          lat: parseFloat(data[0].lat),\n          lng: parseFloat(data[0].lon),\n          display_name: data[0].display_name\n        };\n      }\n      return null;\n    } catch (error) {\n      console.error('Geocoding error:', error);\n      return null;\n    }\n  };\n\n  // Reverse geocoding function\n  const reverseGeocode = async (lat, lng) => {\n    try {\n      const response = await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${lat}&lon=${lng}&zoom=18&addressdetails=1`);\n      const data = await response.json();\n      if (data && data.display_name) {\n        return data.display_name;\n      }\n      return `${lat.toFixed(6)}, ${lng.toFixed(6)}`;\n    } catch (error) {\n      console.error('Reverse geocoding error:', error);\n      return `${lat.toFixed(6)}, ${lng.toFixed(6)}`;\n    }\n  };\n\n  // Handle address input changes with debounced geocoding\n  const handleAddressChange = (field, value) => {\n    setFormData(prev => ({\n      ...prev,\n      [field]: value\n    }));\n\n    // Clear existing timeout\n    const timeoutRef = field === 'pickup_location' ? pickupTimeoutRef : dropTimeoutRef;\n    if (timeoutRef.current) {\n      clearTimeout(timeoutRef.current);\n    }\n\n    // Set new timeout for geocoding\n    if (value.trim().length > 3) {\n      timeoutRef.current = setTimeout(async () => {\n        const isPickup = field === 'pickup_location';\n        isPickup ? setGeocodingPickup(true) : setGeocodingDrop(true);\n        const result = await geocodeAddress(value);\n        if (result) {\n          setFormData(prev => ({\n            ...prev,\n            [isPickup ? 'pickup_lat' : 'drop_lat']: result.lat.toString(),\n            [isPickup ? 'pickup_lng' : 'drop_lng']: result.lng.toString()\n          }));\n\n          // Update map center if this is the first location set\n          if (isPickup && (!formData.pickup_lat || !formData.pickup_lng)) {\n            setMapCenter([result.lat, result.lng]);\n            setMapZoom(15);\n          }\n          toast.success(`${isPickup ? 'Pickup' : 'Drop'} location found!`);\n        } else {\n          toast.error(`Could not find ${isPickup ? 'pickup' : 'drop'} location. Please check the address.`);\n        }\n        isPickup ? setGeocodingPickup(false) : setGeocodingDrop(false);\n      }, 1000); // 1 second delay\n    }\n  };\n\n  // Get current location using browser geolocation API\n  const getCurrentLocation = () => {\n    if (!navigator.geolocation) {\n      toast.error('Geolocation is not supported by this browser');\n      return;\n    }\n    setGettingLocation(true);\n    navigator.geolocation.getCurrentPosition(async position => {\n      const {\n        latitude,\n        longitude\n      } = position.coords;\n\n      // Reverse geocode to get address\n      const address = await reverseGeocode(latitude, longitude);\n      setFormData(prev => ({\n        ...prev,\n        pickup_location: address,\n        pickup_lat: latitude.toString(),\n        pickup_lng: longitude.toString()\n      }));\n\n      // Update map center\n      setMapCenter([latitude, longitude]);\n      setMapZoom(15);\n      setGettingLocation(false);\n      toast.success('Current location set as pickup location!');\n    }, error => {\n      setGettingLocation(false);\n      let errorMessage = 'Unable to get your location';\n      switch (error.code) {\n        case error.PERMISSION_DENIED:\n          errorMessage = 'Location access denied. Please enable location permissions.';\n          break;\n        case error.POSITION_UNAVAILABLE:\n          errorMessage = 'Location information is unavailable.';\n          break;\n        case error.TIMEOUT:\n          errorMessage = 'Location request timed out.';\n          break;\n        default:\n          errorMessage = 'Unable to get your location';\n          break;\n      }\n      toast.error(errorMessage);\n    }, {\n      enableHighAccuracy: true,\n      timeout: 10000,\n      maximumAge: 60000\n    });\n  };\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n\n    // Handle address fields with geocoding\n    if (name === 'pickup_location' || name === 'drop_location') {\n      handleAddressChange(name, value);\n    } else {\n      setFormData(prev => ({\n        ...prev,\n        [name]: value\n      }));\n    }\n  };\n  const handleCoordinateChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n\n    // Update map center when coordinates are manually changed\n    if ((name === 'pickup_lat' || name === 'pickup_lng') && formData.pickup_lat && formData.pickup_lng) {\n      const lat = name === 'pickup_lat' ? parseFloat(value) : parseFloat(formData.pickup_lat);\n      const lng = name === 'pickup_lng' ? parseFloat(value) : parseFloat(formData.pickup_lng);\n      if (!isNaN(lat) && !isNaN(lng)) {\n        setMapCenter([lat, lng]);\n        setMapZoom(15);\n      }\n    }\n  };\n  const handlePhotoChange = e => {\n    const file = e.target.files[0];\n    if (file) {\n      if (file.size > 2 * 1024 * 1024) {\n        // 2MB limit\n        toast.error('Image size should be less than 2MB');\n        return;\n      }\n      setMaterialPhoto(file);\n\n      // Create preview\n      const reader = new FileReader();\n      reader.onloadend = () => {\n        setPhotoPreview(reader.result);\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n  const calculateFare = () => {\n    const {\n      pickup_lat,\n      pickup_lng,\n      drop_lat,\n      drop_lng,\n      material_weight\n    } = formData;\n    if (!pickup_lat || !pickup_lng || !drop_lat || !drop_lng || !material_weight) {\n      toast.error('Please fill in all location coordinates and weight');\n      return;\n    }\n\n    // Calculate distance using Haversine formula\n    const R = 6371; // Earth's radius in km\n    const dLat = (parseFloat(drop_lat) - parseFloat(pickup_lat)) * Math.PI / 180;\n    const dLng = (parseFloat(drop_lng) - parseFloat(pickup_lng)) * Math.PI / 180;\n    const a = Math.sin(dLat / 2) * Math.sin(dLat / 2) + Math.cos(parseFloat(pickup_lat) * Math.PI / 180) * Math.cos(parseFloat(drop_lat) * Math.PI / 180) * Math.sin(dLng / 2) * Math.sin(dLng / 2);\n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n    const distance = R * c;\n\n    // Calculate fare: Base ₹30 + ₹10/km + ₹5/kg\n    const baseFare = 30;\n    const distanceFare = distance * 10;\n    const weightFare = parseFloat(material_weight) * 5;\n    const totalFare = baseFare + distanceFare + weightFare;\n    setFormData(prev => ({\n      ...prev,\n      distance_km: distance.toFixed(2),\n      fare_total: totalFare.toFixed(2)\n    }));\n    setFareCalculated(true);\n    toast.success('Fare calculated successfully!');\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!fareCalculated) {\n      toast.error('Please calculate fare before submitting');\n      return;\n    }\n    setLoading(true);\n    try {\n      const submitData = new FormData();\n\n      // Add form data\n      Object.keys(formData).forEach(key => {\n        submitData.append(key, formData[key]);\n      });\n\n      // Add photo if selected\n      if (materialPhoto) {\n        submitData.append('material_photo', materialPhoto);\n      }\n      const response = await api.post('/customer/orders/simple', submitData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n      toast.success('Order created successfully!');\n      // Redirect to driver selection page instead of dashboard\n      navigate(`/customer/select-driver?order_id=${response.data.order_id.replace('ORD', '')}`, {\n        state: {\n          message: `Order created successfully! Please select a driver.`,\n          orderData: response.data\n        }\n      });\n    } catch (error) {\n      var _error$response, _error$response$data;\n      toast.error(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || 'Failed to create order');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Calculate map bounds to show both pickup and drop locations (for future use)\n  // const getMapBounds = () => {\n  //   const { pickup_lat, pickup_lng, drop_lat, drop_lng } = formData;\n\n  //   if (pickup_lat && pickup_lng && drop_lat && drop_lng) {\n  //     return [\n  //       [parseFloat(pickup_lat), parseFloat(pickup_lng)],\n  //       [parseFloat(drop_lat), parseFloat(drop_lng)]\n  //     ];\n  //   }\n  //   return null;\n  // };\n\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-6xl mx-auto px-3 sm:px-6 lg:px-8 py-4 sm:py-8\",\n      children: [/*#__PURE__*/_jsxDEV(motion.div, {\n        initial: {\n          opacity: 0,\n          y: 20\n        },\n        animate: {\n          opacity: 1,\n          y: 0\n        },\n        className: \"mb-6 sm:mb-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate('/customer'),\n          className: \"inline-flex items-center text-neutral-600 hover:text-primary-600 transition-colors duration-200 mb-4 touch-manipulation\",\n          children: [/*#__PURE__*/_jsxDEV(ArrowLeft, {\n            className: \"h-4 w-4 mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 402,\n            columnNumber: 13\n          }, this), \"Back to Dashboard\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 398,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-2xl sm:text-3xl font-bold text-neutral-900 mb-2\",\n          children: \"Create New Order\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 405,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm sm:text-base text-neutral-600\",\n          children: \"Fill in the details to send your package with interactive location selection\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 408,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 393,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 lg:grid-cols-2 gap-6 lg:gap-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-6\",\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleSubmit,\n            className: \"space-y-6\",\n            children: [/*#__PURE__*/_jsxDEV(motion.div, {\n              initial: {\n                opacity: 0,\n                y: 20\n              },\n              animate: {\n                opacity: 1,\n                y: 0\n              },\n              transition: {\n                delay: 0.1\n              },\n              className: \"card p-4 sm:p-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"text-lg sm:text-xl font-semibold text-neutral-900 mb-4 flex items-center\",\n                children: [/*#__PURE__*/_jsxDEV(MapPin, {\n                  className: \"h-5 w-5 mr-2 text-primary-500\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 425,\n                  columnNumber: 19\n                }, this), \"Pickup & Drop Locations\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 424,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center justify-between mb-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block text-sm font-medium text-neutral-700\",\n                    children: \"Pickup Location\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 432,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"button\",\n                    onClick: getCurrentLocation,\n                    disabled: gettingLocation,\n                    className: \"btn btn-ghost text-xs px-2 py-1 touch-manipulation\",\n                    children: [gettingLocation ? /*#__PURE__*/_jsxDEV(Loader, {\n                      className: \"h-3 w-3 mr-1 animate-spin\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 442,\n                      columnNumber: 25\n                    }, this) : /*#__PURE__*/_jsxDEV(Navigation, {\n                      className: \"h-3 w-3 mr-1\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 444,\n                      columnNumber: 25\n                    }, this), \"Use Current Location\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 435,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 431,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"relative\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    name: \"pickup_location\",\n                    value: formData.pickup_location,\n                    onChange: handleChange,\n                    className: \"input pr-10\",\n                    placeholder: \"Enter pickup address\",\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 451,\n                    columnNumber: 21\n                  }, this), geocodingPickup && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"absolute right-3 top-1/2 transform -translate-y-1/2\",\n                    children: /*#__PURE__*/_jsxDEV(Loader, {\n                      className: \"h-4 w-4 animate-spin text-primary-500\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 462,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 461,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 450,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"grid grid-cols-2 gap-2 mt-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"number\",\n                    name: \"pickup_lat\",\n                    value: formData.pickup_lat,\n                    onChange: handleCoordinateChange,\n                    className: \"input text-xs\",\n                    placeholder: \"Latitude\",\n                    step: \"any\",\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 468,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"number\",\n                    name: \"pickup_lng\",\n                    value: formData.pickup_lng,\n                    onChange: handleCoordinateChange,\n                    className: \"input text-xs\",\n                    placeholder: \"Longitude\",\n                    step: \"any\",\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 478,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 467,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 430,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-sm font-medium text-neutral-700 mb-2\",\n                  children: \"Drop Location\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 493,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"relative\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    name: \"drop_location\",\n                    value: formData.drop_location,\n                    onChange: handleChange,\n                    className: \"input pr-10\",\n                    placeholder: \"Enter drop address\",\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 497,\n                    columnNumber: 21\n                  }, this), geocodingDrop && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"absolute right-3 top-1/2 transform -translate-y-1/2\",\n                    children: /*#__PURE__*/_jsxDEV(Loader, {\n                      className: \"h-4 w-4 animate-spin text-primary-500\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 508,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 507,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 496,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"grid grid-cols-2 gap-2 mt-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"number\",\n                    name: \"drop_lat\",\n                    value: formData.drop_lat,\n                    onChange: handleCoordinateChange,\n                    className: \"input text-xs\",\n                    placeholder: \"Latitude\",\n                    step: \"any\",\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 514,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"number\",\n                    name: \"drop_lng\",\n                    value: formData.drop_lng,\n                    onChange: handleCoordinateChange,\n                    className: \"input text-xs\",\n                    placeholder: \"Longitude\",\n                    step: \"any\",\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 524,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 513,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 492,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 418,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(motion.div, {\n              initial: {\n                opacity: 0,\n                y: 20\n              },\n              animate: {\n                opacity: 1,\n                y: 0\n              },\n              transition: {\n                delay: 0.2\n              },\n              className: \"card p-4 sm:p-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"text-lg sm:text-xl font-semibold text-neutral-900 mb-4 flex items-center\",\n                children: [/*#__PURE__*/_jsxDEV(Package, {\n                  className: \"h-5 w-5 mr-2 text-secondary-500\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 546,\n                  columnNumber: 19\n                }, this), \"Package Details\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 545,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block text-sm font-medium text-neutral-700 mb-2\",\n                    children: \"Material Type\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 552,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                    name: \"material_type\",\n                    value: formData.material_type,\n                    onChange: handleChange,\n                    className: \"input\",\n                    required: true,\n                    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"\",\n                      children: \"Select material type\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 562,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"Documents\",\n                      children: \"Documents\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 563,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"Electronics\",\n                      children: \"Electronics\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 564,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"Clothing\",\n                      children: \"Clothing\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 565,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"Food\",\n                      children: \"Food\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 566,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"Furniture\",\n                      children: \"Furniture\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 567,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"Other\",\n                      children: \"Other\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 568,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 555,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 551,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block text-sm font-medium text-neutral-700 mb-2\",\n                    children: \"Weight (kg)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 573,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"number\",\n                    name: \"material_weight\",\n                    value: formData.material_weight,\n                    onChange: handleChange,\n                    className: \"input\",\n                    placeholder: \"Enter weight in kg\",\n                    min: \"0.1\",\n                    step: \"0.1\",\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 576,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 572,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 550,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-sm font-medium text-neutral-700 mb-2\",\n                  children: \"Description (Optional)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 591,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                  name: \"material_description\",\n                  value: formData.material_description,\n                  onChange: handleChange,\n                  className: \"input\",\n                  rows: \"3\",\n                  placeholder: \"Describe your package...\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 594,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 590,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-sm font-medium text-neutral-700 mb-2\",\n                  children: \"Package Photo (Optional)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 606,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center space-x-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"btn btn-outline cursor-pointer touch-manipulation\",\n                    children: [/*#__PURE__*/_jsxDEV(Camera, {\n                      className: \"h-4 w-4 mr-2\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 611,\n                      columnNumber: 23\n                    }, this), \"Choose Photo\", /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"file\",\n                      accept: \"image/*\",\n                      onChange: handlePhotoChange,\n                      className: \"hidden\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 613,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 610,\n                    columnNumber: 21\n                  }, this), photoPreview && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"w-16 h-16 rounded-lg overflow-hidden border border-neutral-200\",\n                    children: /*#__PURE__*/_jsxDEV(\"img\", {\n                      src: photoPreview,\n                      alt: \"Preview\",\n                      className: \"w-full h-full object-cover\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 622,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 621,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 609,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 605,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 539,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(motion.div, {\n              initial: {\n                opacity: 0,\n                y: 20\n              },\n              animate: {\n                opacity: 1,\n                y: 0\n              },\n              transition: {\n                delay: 0.3\n              },\n              className: \"card p-4 sm:p-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"text-lg sm:text-xl font-semibold text-neutral-900 mb-4 flex items-center\",\n                children: [/*#__PURE__*/_jsxDEV(Calculator, {\n                  className: \"h-5 w-5 mr-2 text-accent-500\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 641,\n                  columnNumber: 19\n                }, this), \"Fare Calculation\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 640,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block text-sm font-medium text-neutral-700 mb-2\",\n                    children: \"Distance (km)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 647,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"number\",\n                    name: \"distance_km\",\n                    value: formData.distance_km,\n                    className: \"input\",\n                    placeholder: \"Auto-calculated\",\n                    readOnly: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 650,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 646,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block text-sm font-medium text-neutral-700 mb-2\",\n                    children: \"Total Fare (\\u20B9)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 660,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"number\",\n                    name: \"fare_total\",\n                    value: formData.fare_total,\n                    className: \"input\",\n                    placeholder: \"Auto-calculated\",\n                    readOnly: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 663,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 659,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-end\",\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"button\",\n                    onClick: calculateFare,\n                    className: \"btn btn-secondary w-full touch-manipulation\",\n                    children: \"Calculate Fare\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 673,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 672,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 645,\n                columnNumber: 17\n              }, this), fareCalculated && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-3 sm:p-4 bg-success-50 border border-success-200 rounded-lg\",\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-success-800 text-xs sm:text-sm\",\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Fare Breakdown:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 686,\n                    columnNumber: 23\n                  }, this), \" Base \\u20B930 + Distance (\\u20B9\", (parseFloat(formData.distance_km) * 10).toFixed(2), \") + Weight (\\u20B9\", (parseFloat(formData.material_weight) * 5).toFixed(2), \") = \\u20B9\", formData.fare_total]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 685,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 684,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 634,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(motion.div, {\n              initial: {\n                opacity: 0,\n                y: 20\n              },\n              animate: {\n                opacity: 1,\n                y: 0\n              },\n              transition: {\n                delay: 0.4\n              },\n              className: \"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: () => navigate('/customer'),\n                className: \"btn btn-ghost touch-manipulation\",\n                children: \"Cancel\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 699,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                disabled: loading || !fareCalculated,\n                className: \"btn btn-primary touch-manipulation\",\n                children: loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(LoadingSpinner, {\n                    size: \"sm\",\n                    className: \"mr-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 713,\n                    columnNumber: 23\n                  }, this), \"Creating Order...\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 712,\n                  columnNumber: 21\n                }, this) : 'Create Order'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 706,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 693,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 416,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 415,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(motion.div, {\n          initial: {\n            opacity: 0,\n            x: 20\n          },\n          animate: {\n            opacity: 1,\n            x: 0\n          },\n          transition: {\n            delay: 0.2\n          },\n          className: \"lg:sticky lg:top-8\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card overflow-hidden\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-4 border-b border-neutral-200\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-lg font-semibold text-neutral-900\",\n                children: \"Interactive Map\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 733,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-neutral-600\",\n                children: \"Pickup and drop locations will appear here\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 734,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 732,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"h-64 sm:h-80 lg:h-96 relative\",\n              children: /*#__PURE__*/_jsxDEV(MapContainer, {\n                center: mapCenter,\n                zoom: mapZoom,\n                style: {\n                  height: '100%',\n                  width: '100%'\n                },\n                className: \"z-0\",\n                children: [/*#__PURE__*/_jsxDEV(TileLayer, {\n                  attribution: \"\\xA9 <a href=\\\"https://www.openstreetmap.org/copyright\\\">OpenStreetMap</a> contributors\",\n                  url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 746,\n                  columnNumber: 19\n                }, this), formData.pickup_lat && formData.pickup_lng && /*#__PURE__*/_jsxDEV(Marker, {\n                  position: [parseFloat(formData.pickup_lat), parseFloat(formData.pickup_lng)],\n                  icon: pickupIcon,\n                  children: /*#__PURE__*/_jsxDEV(Popup, {\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-center\",\n                      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: \"Pickup Location\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 759,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 759,\n                        columnNumber: 59\n                      }, this), formData.pickup_location || 'Pickup Address']\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 758,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 757,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 753,\n                  columnNumber: 21\n                }, this), formData.drop_lat && formData.drop_lng && /*#__PURE__*/_jsxDEV(Marker, {\n                  position: [parseFloat(formData.drop_lat), parseFloat(formData.drop_lng)],\n                  icon: dropIcon,\n                  children: /*#__PURE__*/_jsxDEV(Popup, {\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-center\",\n                      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: \"Drop Location\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 774,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 774,\n                        columnNumber: 57\n                      }, this), formData.drop_location || 'Drop Address']\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 773,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 772,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 768,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(MapUpdater, {\n                  center: mapCenter,\n                  zoom: mapZoom\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 782,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 740,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 739,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-4 bg-neutral-50 border-t border-neutral-200\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center justify-center space-x-6 text-sm\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center space-x-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"w-4 h-4 bg-success-500 rounded-full border-2 border-white shadow\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 790,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-neutral-600\",\n                    children: \"Pickup (P)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 791,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 789,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center space-x-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"w-4 h-4 bg-danger-500 rounded-full border-2 border-white shadow\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 794,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-neutral-600\",\n                    children: \"Drop (D)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 795,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 793,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 788,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 787,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 731,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 725,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 413,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 391,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 390,\n    columnNumber: 5\n  }, this);\n};\n_s2(CreateOrder, \"1rkg7QSTL2bF0NvVV3LTiHlJrCk=\", false, function () {\n  return [useNavigate];\n});\n_c2 = CreateOrder;\nexport default CreateOrder;\nvar _c, _c2;\n$RefreshReg$(_c, \"MapUpdater\");\n$RefreshReg$(_c2, \"CreateOrder\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useNavigate","motion","MapPin","Package","Camera","Calculator","ArrowLeft","Navigation","Loader","MapContainer","TileLayer","Marker","Popup","useMap","L","Layout","api","toast","LoadingSpinner","jsxDEV","_jsxDEV","Icon","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","iconUrl","shadowUrl","createCustomIcon","color","symbol","divIcon","html","className","iconSize","iconAnchor","pickupIcon","dropIcon","MapUpdater","center","zoom","_s","map","setView","_c","CreateOrder","_s2","navigate","formData","setFormData","pickup_location","pickup_lat","pickup_lng","drop_location","drop_lat","drop_lng","material_type","material_description","material_weight","distance_km","fare_total","materialPhoto","setMaterialPhoto","photoPreview","setPhotoPreview","loading","setLoading","fareCalculated","setFareCalculated","geocodingPickup","setGeocodingPickup","geocodingDrop","setGeocodingDrop","gettingLocation","setGettingLocation","mapCenter","setMapCenter","mapZoom","setMapZoom","pickupTimeoutRef","dropTimeoutRef","geocodeAddress","address","response","fetch","encodeURIComponent","data","json","length","lat","parseFloat","lng","lon","display_name","error","console","reverseGeocode","toFixed","handleAddressChange","field","value","prev","timeoutRef","current","clearTimeout","trim","setTimeout","isPickup","result","toString","success","getCurrentLocation","navigator","geolocation","getCurrentPosition","position","latitude","longitude","coords","errorMessage","code","PERMISSION_DENIED","POSITION_UNAVAILABLE","TIMEOUT","enableHighAccuracy","timeout","maximumAge","handleChange","e","name","target","handleCoordinateChange","isNaN","handlePhotoChange","file","files","size","reader","FileReader","onloadend","readAsDataURL","calculateFare","R","dLat","Math","PI","dLng","a","sin","cos","c","atan2","sqrt","distance","baseFare","distanceFare","weightFare","totalFare","handleSubmit","preventDefault","submitData","FormData","Object","keys","forEach","key","append","post","headers","order_id","replace","state","message","orderData","_error$response","_error$response$data","children","div","initial","opacity","y","animate","onClick","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","transition","delay","type","disabled","onChange","placeholder","required","step","min","rows","accept","src","alt","readOnly","x","style","height","width","attribution","url","icon","_c2","$RefreshReg$"],"sources":["E:/swiftlogix.shlok/frontend/src/pages/customer/CreateOrder.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { motion } from 'framer-motion';\r\nimport { \r\n  MapPin, \r\n  Package, \r\n  Camera, \r\n  Calculator,\r\n  ArrowLeft,\r\n  Navigation,\r\n  Loader\r\n} from 'lucide-react';\r\nimport { MapContainer, TileLayer, Marker, Popup, useMap } from 'react-leaflet';\r\nimport L from 'leaflet';\r\nimport Layout from '../../components/Layout/Layout';\r\nimport api from '../../utils/api';\r\nimport toast from 'react-hot-toast';\r\nimport LoadingSpinner from '../../components/LoadingSpinner';\r\n\r\n// Fix for default markers in react-leaflet\r\ndelete L.Icon.Default.prototype._getIconUrl;\r\nL.Icon.Default.mergeOptions({\r\n  iconRetinaUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png',\r\n  iconUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png',\r\n  shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png',\r\n});\r\n\r\n// Custom icons for pickup and drop locations\r\nconst createCustomIcon = (color, symbol) => {\r\n  return L.divIcon({\r\n    html: `\r\n      <div style=\"\r\n        background-color: ${color};\r\n        width: 30px;\r\n        height: 30px;\r\n        border-radius: 50%;\r\n        border: 3px solid white;\r\n        box-shadow: 0 2px 8px rgba(0,0,0,0.3);\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        color: white;\r\n        font-size: 14px;\r\n        font-weight: bold;\r\n      \">\r\n        ${symbol}\r\n      </div>\r\n    `,\r\n    className: 'custom-div-icon',\r\n    iconSize: [30, 30],\r\n    iconAnchor: [15, 15],\r\n  });\r\n};\r\n\r\nconst pickupIcon = createCustomIcon('#22c55e', 'P');\r\nconst dropIcon = createCustomIcon('#ef4444', 'D');\r\n\r\n// Component to update map view when coordinates change\r\nconst MapUpdater = ({ center, zoom }) => {\r\n  const map = useMap();\r\n  \r\n  useEffect(() => {\r\n    if (center && center[0] && center[1]) {\r\n      map.setView(center, zoom);\r\n    }\r\n  }, [center, zoom, map]);\r\n  \r\n  return null;\r\n};\r\n\r\nconst CreateOrder = () => {\r\n  const navigate = useNavigate();\r\n  const [formData, setFormData] = useState({\r\n    pickup_location: '',\r\n    pickup_lat: '',\r\n    pickup_lng: '',\r\n    drop_location: '',\r\n    drop_lat: '',\r\n    drop_lng: '',\r\n    material_type: '',\r\n    material_description: '',\r\n    material_weight: '',\r\n    distance_km: '',\r\n    fare_total: ''\r\n  });\r\n  \r\n  const [materialPhoto, setMaterialPhoto] = useState(null);\r\n  const [photoPreview, setPhotoPreview] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [fareCalculated, setFareCalculated] = useState(false);\r\n  \r\n  // Geocoding and location states\r\n  const [geocodingPickup, setGeocodingPickup] = useState(false);\r\n  const [geocodingDrop, setGeocodingDrop] = useState(false);\r\n  const [gettingLocation, setGettingLocation] = useState(false);\r\n  const [mapCenter, setMapCenter] = useState([19.0760, 72.8777]); // Default to Mumbai\r\n  const [mapZoom, setMapZoom] = useState(10);\r\n  \r\n  // Debounce timers for address input\r\n  const pickupTimeoutRef = useRef(null);\r\n  const dropTimeoutRef = useRef(null);\r\n\r\n  // Geocoding function using OpenStreetMap Nominatim API\r\n  const geocodeAddress = async (address) => {\r\n    try {\r\n      const response = await fetch(\r\n        `https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(address)}&limit=1&countrycodes=in`\r\n      );\r\n      const data = await response.json();\r\n      \r\n      if (data && data.length > 0) {\r\n        return {\r\n          lat: parseFloat(data[0].lat),\r\n          lng: parseFloat(data[0].lon),\r\n          display_name: data[0].display_name\r\n        };\r\n      }\r\n      return null;\r\n    } catch (error) {\r\n      console.error('Geocoding error:', error);\r\n      return null;\r\n    }\r\n  };\r\n\r\n  // Reverse geocoding function\r\n  const reverseGeocode = async (lat, lng) => {\r\n    try {\r\n      const response = await fetch(\r\n        `https://nominatim.openstreetmap.org/reverse?format=json&lat=${lat}&lon=${lng}&zoom=18&addressdetails=1`\r\n      );\r\n      const data = await response.json();\r\n      \r\n      if (data && data.display_name) {\r\n        return data.display_name;\r\n      }\r\n      return `${lat.toFixed(6)}, ${lng.toFixed(6)}`;\r\n    } catch (error) {\r\n      console.error('Reverse geocoding error:', error);\r\n      return `${lat.toFixed(6)}, ${lng.toFixed(6)}`;\r\n    }\r\n  };\r\n\r\n  // Handle address input changes with debounced geocoding\r\n  const handleAddressChange = (field, value) => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [field]: value\r\n    }));\r\n\r\n    // Clear existing timeout\r\n    const timeoutRef = field === 'pickup_location' ? pickupTimeoutRef : dropTimeoutRef;\r\n    if (timeoutRef.current) {\r\n      clearTimeout(timeoutRef.current);\r\n    }\r\n\r\n    // Set new timeout for geocoding\r\n    if (value.trim().length > 3) {\r\n      timeoutRef.current = setTimeout(async () => {\r\n        const isPickup = field === 'pickup_location';\r\n        isPickup ? setGeocodingPickup(true) : setGeocodingDrop(true);\r\n\r\n        const result = await geocodeAddress(value);\r\n        if (result) {\r\n          setFormData(prev => ({\r\n            ...prev,\r\n            [isPickup ? 'pickup_lat' : 'drop_lat']: result.lat.toString(),\r\n            [isPickup ? 'pickup_lng' : 'drop_lng']: result.lng.toString()\r\n          }));\r\n\r\n          // Update map center if this is the first location set\r\n          if (isPickup && (!formData.pickup_lat || !formData.pickup_lng)) {\r\n            setMapCenter([result.lat, result.lng]);\r\n            setMapZoom(15);\r\n          }\r\n          \r\n          toast.success(`${isPickup ? 'Pickup' : 'Drop'} location found!`);\r\n        } else {\r\n          toast.error(`Could not find ${isPickup ? 'pickup' : 'drop'} location. Please check the address.`);\r\n        }\r\n\r\n        isPickup ? setGeocodingPickup(false) : setGeocodingDrop(false);\r\n      }, 1000); // 1 second delay\r\n    }\r\n  };\r\n\r\n  // Get current location using browser geolocation API\r\n  const getCurrentLocation = () => {\r\n    if (!navigator.geolocation) {\r\n      toast.error('Geolocation is not supported by this browser');\r\n      return;\r\n    }\r\n\r\n    setGettingLocation(true);\r\n    \r\n    navigator.geolocation.getCurrentPosition(\r\n      async (position) => {\r\n        const { latitude, longitude } = position.coords;\r\n        \r\n        // Reverse geocode to get address\r\n        const address = await reverseGeocode(latitude, longitude);\r\n        \r\n        setFormData(prev => ({\r\n          ...prev,\r\n          pickup_location: address,\r\n          pickup_lat: latitude.toString(),\r\n          pickup_lng: longitude.toString()\r\n        }));\r\n\r\n        // Update map center\r\n        setMapCenter([latitude, longitude]);\r\n        setMapZoom(15);\r\n        \r\n        setGettingLocation(false);\r\n        toast.success('Current location set as pickup location!');\r\n      },\r\n      (error) => {\r\n        setGettingLocation(false);\r\n        let errorMessage = 'Unable to get your location';\r\n        \r\n        switch (error.code) {\r\n          case error.PERMISSION_DENIED:\r\n            errorMessage = 'Location access denied. Please enable location permissions.';\r\n            break;\r\n          case error.POSITION_UNAVAILABLE:\r\n            errorMessage = 'Location information is unavailable.';\r\n            break;\r\n          case error.TIMEOUT:\r\n            errorMessage = 'Location request timed out.';\r\n            break;\r\n          default:\r\n            errorMessage = 'Unable to get your location';\r\n            break;\r\n        }\r\n        \r\n        toast.error(errorMessage);\r\n      },\r\n      {\r\n        enableHighAccuracy: true,\r\n        timeout: 10000,\r\n        maximumAge: 60000\r\n      }\r\n    );\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    \r\n    // Handle address fields with geocoding\r\n    if (name === 'pickup_location' || name === 'drop_location') {\r\n      handleAddressChange(name, value);\r\n    } else {\r\n      setFormData(prev => ({\r\n        ...prev,\r\n        [name]: value\r\n      }));\r\n    }\r\n  };\r\n\r\n  const handleCoordinateChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [name]: value\r\n    }));\r\n\r\n    // Update map center when coordinates are manually changed\r\n    if ((name === 'pickup_lat' || name === 'pickup_lng') && formData.pickup_lat && formData.pickup_lng) {\r\n      const lat = name === 'pickup_lat' ? parseFloat(value) : parseFloat(formData.pickup_lat);\r\n      const lng = name === 'pickup_lng' ? parseFloat(value) : parseFloat(formData.pickup_lng);\r\n      \r\n      if (!isNaN(lat) && !isNaN(lng)) {\r\n        setMapCenter([lat, lng]);\r\n        setMapZoom(15);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handlePhotoChange = (e) => {\r\n    const file = e.target.files[0];\r\n    if (file) {\r\n      if (file.size > 2 * 1024 * 1024) { // 2MB limit\r\n        toast.error('Image size should be less than 2MB');\r\n        return;\r\n      }\r\n      \r\n      setMaterialPhoto(file);\r\n      \r\n      // Create preview\r\n      const reader = new FileReader();\r\n      reader.onloadend = () => {\r\n        setPhotoPreview(reader.result);\r\n      };\r\n      reader.readAsDataURL(file);\r\n    }\r\n  };\r\n\r\n  const calculateFare = () => {\r\n    const { pickup_lat, pickup_lng, drop_lat, drop_lng, material_weight } = formData;\r\n    \r\n    if (!pickup_lat || !pickup_lng || !drop_lat || !drop_lng || !material_weight) {\r\n      toast.error('Please fill in all location coordinates and weight');\r\n      return;\r\n    }\r\n\r\n    // Calculate distance using Haversine formula\r\n    const R = 6371; // Earth's radius in km\r\n    const dLat = (parseFloat(drop_lat) - parseFloat(pickup_lat)) * Math.PI / 180;\r\n    const dLng = (parseFloat(drop_lng) - parseFloat(pickup_lng)) * Math.PI / 180;\r\n    const a = \r\n      Math.sin(dLat/2) * Math.sin(dLat/2) +\r\n      Math.cos(parseFloat(pickup_lat) * Math.PI / 180) * Math.cos(parseFloat(drop_lat) * Math.PI / 180) * \r\n      Math.sin(dLng/2) * Math.sin(dLng/2);\r\n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));\r\n    const distance = R * c;\r\n\r\n    // Calculate fare: Base ₹30 + ₹10/km + ₹5/kg\r\n    const baseFare = 30;\r\n    const distanceFare = distance * 10;\r\n    const weightFare = parseFloat(material_weight) * 5;\r\n    const totalFare = baseFare + distanceFare + weightFare;\r\n\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      distance_km: distance.toFixed(2),\r\n      fare_total: totalFare.toFixed(2)\r\n    }));\r\n    \r\n    setFareCalculated(true);\r\n    toast.success('Fare calculated successfully!');\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    if (!fareCalculated) {\r\n      toast.error('Please calculate fare before submitting');\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n\r\n    try {\r\n      const submitData = new FormData();\r\n      \r\n      // Add form data\r\n      Object.keys(formData).forEach(key => {\r\n        submitData.append(key, formData[key]);\r\n      });\r\n      \r\n      // Add photo if selected\r\n      if (materialPhoto) {\r\n        submitData.append('material_photo', materialPhoto);\r\n      }\r\n\r\n      const response = await api.post('/customer/orders/simple', submitData, {\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data',\r\n        },\r\n      });\r\n\r\n      toast.success('Order created successfully!');\r\n      // Redirect to driver selection page instead of dashboard\r\n      navigate(`/customer/select-driver?order_id=${response.data.order_id.replace('ORD', '')}`, { \r\n        state: { \r\n          message: `Order created successfully! Please select a driver.`,\r\n          orderData: response.data\r\n        }\r\n      });\r\n    } catch (error) {\r\n      toast.error(error.response?.data?.message || 'Failed to create order');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Calculate map bounds to show both pickup and drop locations (for future use)\r\n  // const getMapBounds = () => {\r\n  //   const { pickup_lat, pickup_lng, drop_lat, drop_lng } = formData;\r\n    \r\n  //   if (pickup_lat && pickup_lng && drop_lat && drop_lng) {\r\n  //     return [\r\n  //       [parseFloat(pickup_lat), parseFloat(pickup_lng)],\r\n  //       [parseFloat(drop_lat), parseFloat(drop_lng)]\r\n  //     ];\r\n  //   }\r\n  //   return null;\r\n  // };\r\n\r\n  return (\r\n    <Layout>\r\n      <div className=\"max-w-6xl mx-auto px-3 sm:px-6 lg:px-8 py-4 sm:py-8\">\r\n        {/* Header */}\r\n        <motion.div\r\n          initial={{ opacity: 0, y: 20 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          className=\"mb-6 sm:mb-8\"\r\n        >\r\n          <button\r\n            onClick={() => navigate('/customer')}\r\n            className=\"inline-flex items-center text-neutral-600 hover:text-primary-600 transition-colors duration-200 mb-4 touch-manipulation\"\r\n          >\r\n            <ArrowLeft className=\"h-4 w-4 mr-2\" />\r\n            Back to Dashboard\r\n          </button>\r\n          <h1 className=\"text-2xl sm:text-3xl font-bold text-neutral-900 mb-2\">\r\n            Create New Order\r\n          </h1>\r\n          <p className=\"text-sm sm:text-base text-neutral-600\">\r\n            Fill in the details to send your package with interactive location selection\r\n          </p>\r\n        </motion.div>\r\n\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6 lg:gap-8\">\r\n          {/* Left Column - Form */}\r\n          <div className=\"space-y-6\">\r\n            <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n              {/* Pickup & Drop Locations */}\r\n              <motion.div\r\n                initial={{ opacity: 0, y: 20 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                transition={{ delay: 0.1 }}\r\n                className=\"card p-4 sm:p-6\"\r\n              >\r\n                <h2 className=\"text-lg sm:text-xl font-semibold text-neutral-900 mb-4 flex items-center\">\r\n                  <MapPin className=\"h-5 w-5 mr-2 text-primary-500\" />\r\n                  Pickup & Drop Locations\r\n                </h2>\r\n                \r\n                {/* Pickup Location */}\r\n                <div className=\"mb-6\">\r\n                  <div className=\"flex items-center justify-between mb-2\">\r\n                    <label className=\"block text-sm font-medium text-neutral-700\">\r\n                      Pickup Location\r\n                    </label>\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={getCurrentLocation}\r\n                      disabled={gettingLocation}\r\n                      className=\"btn btn-ghost text-xs px-2 py-1 touch-manipulation\"\r\n                    >\r\n                      {gettingLocation ? (\r\n                        <Loader className=\"h-3 w-3 mr-1 animate-spin\" />\r\n                      ) : (\r\n                        <Navigation className=\"h-3 w-3 mr-1\" />\r\n                      )}\r\n                      Use Current Location\r\n                    </button>\r\n                  </div>\r\n                  \r\n                  <div className=\"relative\">\r\n                    <input\r\n                      type=\"text\"\r\n                      name=\"pickup_location\"\r\n                      value={formData.pickup_location}\r\n                      onChange={handleChange}\r\n                      className=\"input pr-10\"\r\n                      placeholder=\"Enter pickup address\"\r\n                      required\r\n                    />\r\n                    {geocodingPickup && (\r\n                      <div className=\"absolute right-3 top-1/2 transform -translate-y-1/2\">\r\n                        <Loader className=\"h-4 w-4 animate-spin text-primary-500\" />\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                  \r\n                  <div className=\"grid grid-cols-2 gap-2 mt-2\">\r\n                    <input\r\n                      type=\"number\"\r\n                      name=\"pickup_lat\"\r\n                      value={formData.pickup_lat}\r\n                      onChange={handleCoordinateChange}\r\n                      className=\"input text-xs\"\r\n                      placeholder=\"Latitude\"\r\n                      step=\"any\"\r\n                      required\r\n                    />\r\n                    <input\r\n                      type=\"number\"\r\n                      name=\"pickup_lng\"\r\n                      value={formData.pickup_lng}\r\n                      onChange={handleCoordinateChange}\r\n                      className=\"input text-xs\"\r\n                      placeholder=\"Longitude\"\r\n                      step=\"any\"\r\n                      required\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Drop Location */}\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-neutral-700 mb-2\">\r\n                    Drop Location\r\n                  </label>\r\n                  <div className=\"relative\">\r\n                    <input\r\n                      type=\"text\"\r\n                      name=\"drop_location\"\r\n                      value={formData.drop_location}\r\n                      onChange={handleChange}\r\n                      className=\"input pr-10\"\r\n                      placeholder=\"Enter drop address\"\r\n                      required\r\n                    />\r\n                    {geocodingDrop && (\r\n                      <div className=\"absolute right-3 top-1/2 transform -translate-y-1/2\">\r\n                        <Loader className=\"h-4 w-4 animate-spin text-primary-500\" />\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                  \r\n                  <div className=\"grid grid-cols-2 gap-2 mt-2\">\r\n                    <input\r\n                      type=\"number\"\r\n                      name=\"drop_lat\"\r\n                      value={formData.drop_lat}\r\n                      onChange={handleCoordinateChange}\r\n                      className=\"input text-xs\"\r\n                      placeholder=\"Latitude\"\r\n                      step=\"any\"\r\n                      required\r\n                    />\r\n                    <input\r\n                      type=\"number\"\r\n                      name=\"drop_lng\"\r\n                      value={formData.drop_lng}\r\n                      onChange={handleCoordinateChange}\r\n                      className=\"input text-xs\"\r\n                      placeholder=\"Longitude\"\r\n                      step=\"any\"\r\n                      required\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </motion.div>\r\n\r\n              {/* Package Details */}\r\n              <motion.div\r\n                initial={{ opacity: 0, y: 20 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                transition={{ delay: 0.2 }}\r\n                className=\"card p-4 sm:p-6\"\r\n              >\r\n                <h2 className=\"text-lg sm:text-xl font-semibold text-neutral-900 mb-4 flex items-center\">\r\n                  <Package className=\"h-5 w-5 mr-2 text-secondary-500\" />\r\n                  Package Details\r\n                </h2>\r\n                \r\n                <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6\">\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-neutral-700 mb-2\">\r\n                      Material Type\r\n                    </label>\r\n                    <select\r\n                      name=\"material_type\"\r\n                      value={formData.material_type}\r\n                      onChange={handleChange}\r\n                      className=\"input\"\r\n                      required\r\n                    >\r\n                      <option value=\"\">Select material type</option>\r\n                      <option value=\"Documents\">Documents</option>\r\n                      <option value=\"Electronics\">Electronics</option>\r\n                      <option value=\"Clothing\">Clothing</option>\r\n                      <option value=\"Food\">Food</option>\r\n                      <option value=\"Furniture\">Furniture</option>\r\n                      <option value=\"Other\">Other</option>\r\n                    </select>\r\n                  </div>\r\n\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-neutral-700 mb-2\">\r\n                      Weight (kg)\r\n                    </label>\r\n                    <input\r\n                      type=\"number\"\r\n                      name=\"material_weight\"\r\n                      value={formData.material_weight}\r\n                      onChange={handleChange}\r\n                      className=\"input\"\r\n                      placeholder=\"Enter weight in kg\"\r\n                      min=\"0.1\"\r\n                      step=\"0.1\"\r\n                      required\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"mt-4\">\r\n                  <label className=\"block text-sm font-medium text-neutral-700 mb-2\">\r\n                    Description (Optional)\r\n                  </label>\r\n                  <textarea\r\n                    name=\"material_description\"\r\n                    value={formData.material_description}\r\n                    onChange={handleChange}\r\n                    className=\"input\"\r\n                    rows=\"3\"\r\n                    placeholder=\"Describe your package...\"\r\n                  />\r\n                </div>\r\n\r\n                {/* Photo Upload */}\r\n                <div className=\"mt-4\">\r\n                  <label className=\"block text-sm font-medium text-neutral-700 mb-2\">\r\n                    Package Photo (Optional)\r\n                  </label>\r\n                  <div className=\"flex items-center space-x-4\">\r\n                    <label className=\"btn btn-outline cursor-pointer touch-manipulation\">\r\n                      <Camera className=\"h-4 w-4 mr-2\" />\r\n                      Choose Photo\r\n                      <input\r\n                        type=\"file\"\r\n                        accept=\"image/*\"\r\n                        onChange={handlePhotoChange}\r\n                        className=\"hidden\"\r\n                      />\r\n                    </label>\r\n                    {photoPreview && (\r\n                      <div className=\"w-16 h-16 rounded-lg overflow-hidden border border-neutral-200\">\r\n                        <img\r\n                          src={photoPreview}\r\n                          alt=\"Preview\"\r\n                          className=\"w-full h-full object-cover\"\r\n                        />\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </motion.div>\r\n\r\n              {/* Fare Calculation */}\r\n              <motion.div\r\n                initial={{ opacity: 0, y: 20 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                transition={{ delay: 0.3 }}\r\n                className=\"card p-4 sm:p-6\"\r\n              >\r\n                <h2 className=\"text-lg sm:text-xl font-semibold text-neutral-900 mb-4 flex items-center\">\r\n                  <Calculator className=\"h-5 w-5 mr-2 text-accent-500\" />\r\n                  Fare Calculation\r\n                </h2>\r\n                \r\n                <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-4\">\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-neutral-700 mb-2\">\r\n                      Distance (km)\r\n                    </label>\r\n                    <input\r\n                      type=\"number\"\r\n                      name=\"distance_km\"\r\n                      value={formData.distance_km}\r\n                      className=\"input\"\r\n                      placeholder=\"Auto-calculated\"\r\n                      readOnly\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-neutral-700 mb-2\">\r\n                      Total Fare (₹)\r\n                    </label>\r\n                    <input\r\n                      type=\"number\"\r\n                      name=\"fare_total\"\r\n                      value={formData.fare_total}\r\n                      className=\"input\"\r\n                      placeholder=\"Auto-calculated\"\r\n                      readOnly\r\n                    />\r\n                  </div>\r\n                  <div className=\"flex items-end\">\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={calculateFare}\r\n                      className=\"btn btn-secondary w-full touch-manipulation\"\r\n                    >\r\n                      Calculate Fare\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n\r\n                {fareCalculated && (\r\n                  <div className=\"p-3 sm:p-4 bg-success-50 border border-success-200 rounded-lg\">\r\n                    <p className=\"text-success-800 text-xs sm:text-sm\">\r\n                      <strong>Fare Breakdown:</strong> Base ₹30 + Distance (₹{(parseFloat(formData.distance_km) * 10).toFixed(2)}) + Weight (₹{(parseFloat(formData.material_weight) * 5).toFixed(2)}) = ₹{formData.fare_total}\r\n                    </p>\r\n                  </div>\r\n                )}\r\n              </motion.div>\r\n\r\n              {/* Submit Button */}\r\n              <motion.div\r\n                initial={{ opacity: 0, y: 20 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                transition={{ delay: 0.4 }}\r\n                className=\"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-4\"\r\n              >\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => navigate('/customer')}\r\n                  className=\"btn btn-ghost touch-manipulation\"\r\n                >\r\n                  Cancel\r\n                </button>\r\n                <button\r\n                  type=\"submit\"\r\n                  disabled={loading || !fareCalculated}\r\n                  className=\"btn btn-primary touch-manipulation\"\r\n                >\r\n                  {loading ? (\r\n                    <div className=\"flex items-center\">\r\n                      <LoadingSpinner size=\"sm\" className=\"mr-2\" />\r\n                      Creating Order...\r\n                    </div>\r\n                  ) : (\r\n                    'Create Order'\r\n                  )}\r\n                </button>\r\n              </motion.div>\r\n            </form>\r\n          </div>\r\n\r\n          {/* Right Column - Interactive Map */}\r\n          <motion.div\r\n            initial={{ opacity: 0, x: 20 }}\r\n            animate={{ opacity: 1, x: 0 }}\r\n            transition={{ delay: 0.2 }}\r\n            className=\"lg:sticky lg:top-8\"\r\n          >\r\n            <div className=\"card overflow-hidden\">\r\n              <div className=\"p-4 border-b border-neutral-200\">\r\n                <h3 className=\"text-lg font-semibold text-neutral-900\">Interactive Map</h3>\r\n                <p className=\"text-sm text-neutral-600\">\r\n                  Pickup and drop locations will appear here\r\n                </p>\r\n              </div>\r\n              \r\n              <div className=\"h-64 sm:h-80 lg:h-96 relative\">\r\n                <MapContainer\r\n                  center={mapCenter}\r\n                  zoom={mapZoom}\r\n                  style={{ height: '100%', width: '100%' }}\r\n                  className=\"z-0\"\r\n                >\r\n                  <TileLayer\r\n                    attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\r\n                    url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n                  />\r\n                  \r\n                  {/* Pickup Location Marker */}\r\n                  {formData.pickup_lat && formData.pickup_lng && (\r\n                    <Marker \r\n                      position={[parseFloat(formData.pickup_lat), parseFloat(formData.pickup_lng)]} \r\n                      icon={pickupIcon}\r\n                    >\r\n                      <Popup>\r\n                        <div className=\"text-center\">\r\n                          <strong>Pickup Location</strong><br />\r\n                          {formData.pickup_location || 'Pickup Address'}\r\n                        </div>\r\n                      </Popup>\r\n                    </Marker>\r\n                  )}\r\n                  \r\n                  {/* Drop Location Marker */}\r\n                  {formData.drop_lat && formData.drop_lng && (\r\n                    <Marker \r\n                      position={[parseFloat(formData.drop_lat), parseFloat(formData.drop_lng)]} \r\n                      icon={dropIcon}\r\n                    >\r\n                      <Popup>\r\n                        <div className=\"text-center\">\r\n                          <strong>Drop Location</strong><br />\r\n                          {formData.drop_location || 'Drop Address'}\r\n                        </div>\r\n                      </Popup>\r\n                    </Marker>\r\n                  )}\r\n                  \r\n                  {/* Update map view when coordinates change */}\r\n                  <MapUpdater center={mapCenter} zoom={mapZoom} />\r\n                </MapContainer>\r\n              </div>\r\n              \r\n              {/* Map Legend */}\r\n              <div className=\"p-4 bg-neutral-50 border-t border-neutral-200\">\r\n                <div className=\"flex items-center justify-center space-x-6 text-sm\">\r\n                  <div className=\"flex items-center space-x-2\">\r\n                    <div className=\"w-4 h-4 bg-success-500 rounded-full border-2 border-white shadow\"></div>\r\n                    <span className=\"text-neutral-600\">Pickup (P)</span>\r\n                  </div>\r\n                  <div className=\"flex items-center space-x-2\">\r\n                    <div className=\"w-4 h-4 bg-danger-500 rounded-full border-2 border-white shadow\"></div>\r\n                    <span className=\"text-neutral-600\">Drop (D)</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </motion.div>\r\n        </div>\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default CreateOrder;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}