{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import{motion}from'framer-motion';import{DollarSign,Package,Clock,TrendingUp,Navigation,Star,Eye,AlertCircle,Truck,MessageCircle,RefreshCw}from'lucide-react';import Layout from'../../components/Layout/Layout';import{useAuth}from'../../contexts/AuthContext';import api from'../../utils/api';import toast from'react-hot-toast';import LoadingSpinner from'../../components/LoadingSpinner';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const DriverDashboard=()=>{const{user}=useAuth();const[stats,setStats]=useState({totalEarnings:0,deliveredCount:0,activeOrders:0,rating:0,ratingCount:0});const[orders,setOrders]=useState([]);const[availableOrders,setAvailableOrders]=useState([]);const[requestedOrders,setRequestedOrders]=useState([]);const[driverProfile,setDriverProfile]=useState(null);const[loading,setLoading]=useState(true);const[locationLoading,setLocationLoading]=useState(false);const[currentLocation,setCurrentLocation]=useState(null);useEffect(()=>{fetchDashboardData();getCurrentLocation();},[]);const fetchDashboardData=async()=>{try{const[earningsResponse,ordersResponse,availableOrdersResponse,profileResponse]=await Promise.all([api.get('/driver/earnings'),api.get('/driver/orders'),api.get('/driver/orders/available'),api.get('/driver/profile')]);const earningsData=earningsResponse.data;const ordersData=ordersResponse.data;const availableOrdersData=availableOrdersResponse.data;const profileData=profileResponse.data;setStats({totalEarnings:earningsData.total_earnings||0,deliveredCount:earningsData.delivered_count||0,activeOrders:ordersData.filter(order=>['accepted','assigned','picked','delivering'].includes(order.status)).length,rating:profileData.rating||0,ratingCount:profileData.rating_count||0});setOrders(ordersData.slice(0,5));// Recent 5 orders\nsetAvailableOrders(availableOrdersData.slice(0,3));// Top 3 available orders\nsetDriverProfile(profileData);// Fetch requested orders if driver has profile\nif(profileData.driver_id){try{const requestedResponse=await api.get(\"/driver/orders/requested/\".concat(profileData.driver_id));setRequestedOrders(requestedResponse.data);}catch(error){console.log('No requested orders or error fetching them');}}}catch(error){toast.error('Failed to load dashboard data');console.error('Dashboard error:',error);}finally{setLoading(false);}};const getCurrentLocation=()=>{if(navigator.geolocation){navigator.geolocation.getCurrentPosition(position=>{setCurrentLocation({lat:position.coords.latitude,lng:position.coords.longitude});},error=>{console.log('Location error:',error);});}};const updateLocation=async()=>{if(!currentLocation){toast.error('Location not available. Please enable location services.');return;}setLocationLoading(true);try{await api.post('/driver/location',{lat:currentLocation.lat,lng:currentLocation.lng});toast.success('Location updated successfully!');}catch(error){toast.error('Failed to update location');}finally{setLocationLoading(false);}};const acceptOrder=async orderId=>{try{await api.post(\"/driver/orders/\".concat(orderId,\"/accept\"));toast.success('Order accepted successfully!');fetchDashboardData();// Refresh data\n}catch(error){toast.error('Failed to accept order');}};const acceptOrderRequest=async orderId=>{try{await api.post(\"/driver/orders/\".concat(orderId,\"/accept_request\"));toast.success('Order request accepted!');fetchDashboardData();// Refresh data\n}catch(error){toast.error('Failed to accept order request');}};const rejectOrderRequest=async orderId=>{try{await api.post(\"/driver/orders/\".concat(orderId,\"/reject_request\"));toast.success('Order request rejected');fetchDashboardData();// Refresh data\n}catch(error){toast.error('Failed to reject order request');}};const getStatusColor=status=>{const colors={pending:'bg-warning-100 text-warning-800',requested:'bg-secondary-100 text-secondary-800',accepted:'bg-primary-100 text-primary-800',assigned:'bg-primary-100 text-primary-800',picked:'bg-accent-100 text-accent-800',delivering:'bg-accent-100 text-accent-800',delivered:'bg-success-100 text-success-800',cancelled:'bg-danger-100 text-danger-800'};return colors[status]||'bg-neutral-100 text-neutral-800';};const formatStatus=status=>{return status.charAt(0).toUpperCase()+status.slice(1);};if(loading){return/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center min-h-screen\",children:/*#__PURE__*/_jsx(LoadingSpinner,{size:\"xl\"})})});}return/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",children:[/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:\"mb-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-3xl font-bold text-neutral-900 mb-2\",children:[\"Welcome back, \",user===null||user===void 0?void 0:user.name,\"!\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-neutral-600\",children:\"Manage your deliveries and track your earnings\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:fetchDashboardData,className:\"btn btn-ghost p-2\",title:\"Refresh Dashboard\",children:/*#__PURE__*/_jsx(RefreshCw,{className:\"h-5 w-5\"})}),driverProfile&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-neutral-600\",children:\"Driver ID\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"font-semibold text-neutral-900\",children:[\"#\",driverProfile.driver_id]})]})]})]})}),/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:0.1},className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card p-6 card-hover\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-neutral-600\",children:\"Total Earnings\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-2xl font-bold text-neutral-900\",children:[\"\\u20B9\",stats.totalEarnings.toFixed(2)]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 bg-success-100 rounded-lg flex items-center justify-center\",children:/*#__PURE__*/_jsx(DollarSign,{className:\"h-6 w-6 text-success-600\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"card p-6 card-hover\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-neutral-600\",children:\"Deliveries\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-neutral-900\",children:stats.deliveredCount})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center\",children:/*#__PURE__*/_jsx(Package,{className:\"h-6 w-6 text-primary-600\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"card p-6 card-hover\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-neutral-600\",children:\"Active Orders\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-neutral-900\",children:stats.activeOrders})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 bg-warning-100 rounded-lg flex items-center justify-center\",children:/*#__PURE__*/_jsx(Clock,{className:\"h-6 w-6 text-warning-600\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"card p-6 card-hover\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-neutral-600\",children:\"Rating\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-1\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-neutral-900\",children:stats.rating.toFixed(1)}),/*#__PURE__*/_jsx(Star,{className:\"h-5 w-5 text-warning-400 fill-current\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-neutral-500\",children:[\"(\",stats.ratingCount,\" reviews)\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 bg-accent-100 rounded-lg flex items-center justify-center\",children:/*#__PURE__*/_jsx(TrendingUp,{className:\"h-6 w-6 text-accent-600\"})})]})})]}),/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:0.2},className:\"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:updateLocation,disabled:locationLoading,className:\"card p-6 card-hover group cursor-pointer bg-gradient-to-br from-primary-500 to-primary-600 text-white\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-2\",children:\"Update Location\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-primary-100\",children:\"Share your current location\"})]}),locationLoading?/*#__PURE__*/_jsx(LoadingSpinner,{size:\"sm\"}):/*#__PURE__*/_jsx(Navigation,{className:\"h-8 w-8 group-hover:scale-110 transition-transform duration-200\"})]})}),/*#__PURE__*/_jsx(Link,{to:\"/driver/orders\",className:\"card p-6 card-hover group cursor-pointer\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-neutral-900 mb-2\",children:\"View Orders\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-neutral-600\",children:\"See all available orders\"})]}),/*#__PURE__*/_jsx(Package,{className:\"h-8 w-8 text-secondary-500 group-hover:scale-110 transition-transform duration-200\"})]})}),/*#__PURE__*/_jsx(Link,{to:\"/driver/profile\",className:\"card p-6 card-hover group cursor-pointer\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-neutral-900 mb-2\",children:\"My Profile\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-neutral-600\",children:\"Update your information\"})]}),/*#__PURE__*/_jsx(Truck,{className:\"h-8 w-8 text-accent-500 group-hover:scale-110 transition-transform duration-200\"})]})}),/*#__PURE__*/_jsx(Link,{to:\"/driver/chat\",className:\"card p-6 card-hover group cursor-pointer\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-neutral-900 mb-2\",children:\"Support Chat\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-neutral-600\",children:\"Get help from support\"})]}),/*#__PURE__*/_jsx(MessageCircle,{className:\"h-8 w-8 text-success-500 group-hover:scale-110 transition-transform duration-200\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2 gap-8\",children:[requestedOrders.length>0&&/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:0.3},className:\"card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-6 border-b border-neutral-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-xl font-semibold text-neutral-900 flex items-center\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"h-5 w-5 mr-2 text-warning-500\"}),\"Order Requests\"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"bg-warning-100 text-warning-800 px-2 py-1 rounded-full text-sm font-medium\",children:[requestedOrders.length,\" pending\"]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"p-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:requestedOrders.map((order,index)=>/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:0.4+index*0.1},className:\"p-4 bg-warning-50 border border-warning-200 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-3\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{className:\"font-semibold text-neutral-900\",children:[\"Order #\",order.id]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-neutral-600\",children:[\"Customer: \",order.customer_name]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"font-semibold text-success-600\",children:[\"\\u20B9\",order.fare_total]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-neutral-500\",children:[order.distance_km,\"km\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-neutral-600\",children:[/*#__PURE__*/_jsx(\"p\",{children:order.pickup_address}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u2192 \",order.drop_address]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>acceptOrderRequest(order.id),className:\"btn btn-primary text-sm px-3 py-1\",children:\"Accept\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>rejectOrderRequest(order.id),className:\"btn btn-ghost text-sm px-3 py-1\",children:\"Reject\"})]})]})]},order.id))})})]}),/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:0.3},className:\"card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-6 border-b border-neutral-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-neutral-900\",children:\"Available Orders\"}),/*#__PURE__*/_jsx(Link,{to:\"/driver/orders\",className:\"text-primary-600 hover:text-primary-700 font-medium transition-colors duration-200\",children:\"View All\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"p-6\",children:availableOrders.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:availableOrders.map((order,index)=>/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:0.4+index*0.1},className:\"flex items-center justify-between p-4 bg-neutral-50 rounded-lg hover:bg-neutral-100 transition-colors duration-200\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3 mb-2\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium text-neutral-900\",children:[\"Order #\",order.id]}),/*#__PURE__*/_jsxs(\"span\",{className:\"px-2 py-1 rounded-full text-xs font-medium bg-success-100 text-success-800\",children:[\"\\u20B9\",order.fare_total]})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-neutral-600 mb-1\",children:[order.pickup_address,\" \\u2192 \",order.drop_address]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-neutral-500\",children:[\"Distance: \",order.pickup&&order.drop?Math.sqrt(Math.pow(order.drop[0]-order.pickup[0],2)+Math.pow(order.drop[1]-order.pickup[1],2)).toFixed(1):'N/A',\"km\"]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>acceptOrder(order.id),className:\"btn btn-primary text-sm\",children:\"Accept\"})]},order.id))}):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(Package,{className:\"h-12 w-12 text-neutral-400 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-neutral-900 mb-2\",children:\"No orders available\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-neutral-600 mb-4\",children:\"Check back later for new delivery opportunities\"}),/*#__PURE__*/_jsx(\"button\",{onClick:fetchDashboardData,className:\"btn btn-outline\",children:\"Refresh\"})]})})]}),/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:0.4},className:\"card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-6 border-b border-neutral-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-neutral-900\",children:\"Recent Orders\"}),/*#__PURE__*/_jsx(Link,{to:\"/driver/orders\",className:\"text-primary-600 hover:text-primary-700 font-medium transition-colors duration-200\",children:\"View All\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"p-6\",children:orders.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:orders.map((order,index)=>/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:0.5+index*0.1},className:\"flex items-center justify-between p-4 bg-neutral-50 rounded-lg hover:bg-neutral-100 transition-colors duration-200\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3 mb-2\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium text-neutral-900\",children:[\"Order #\",order.id]}),/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 rounded-full text-xs font-medium \".concat(getStatusColor(order.status)),children:formatStatus(order.status)})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-neutral-600 mb-1\",children:[\"Distance: \",order.distance_km,\"km \\u2022 Earnings: \\u20B9\",order.driver_share]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-neutral-500\",children:new Date(order.created_at).toLocaleDateString()})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-ghost p-2\",children:/*#__PURE__*/_jsx(Eye,{className:\"h-4 w-4\"})})]},order.id))}):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(Package,{className:\"h-12 w-12 text-neutral-400 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-neutral-900 mb-2\",children:\"No orders yet\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-neutral-600 mb-4\",children:\"Start accepting orders to see them here\"}),/*#__PURE__*/_jsx(Link,{to:\"/driver/orders\",className:\"btn btn-primary\",children:\"View Available Orders\"})]})})]})]})]})});};export default DriverDashboard;","map":{"version":3,"names":["React","useState","useEffect","Link","motion","DollarSign","Package","Clock","TrendingUp","Navigation","Star","Eye","AlertCircle","Truck","MessageCircle","RefreshCw","Layout","useAuth","api","toast","LoadingSpinner","jsx","_jsx","jsxs","_jsxs","DriverDashboard","user","stats","setStats","totalEarnings","deliveredCount","activeOrders","rating","ratingCount","orders","setOrders","availableOrders","setAvailableOrders","requestedOrders","setRequestedOrders","driverProfile","setDriverProfile","loading","setLoading","locationLoading","setLocationLoading","currentLocation","setCurrentLocation","fetchDashboardData","getCurrentLocation","earningsResponse","ordersResponse","availableOrdersResponse","profileResponse","Promise","all","get","earningsData","data","ordersData","availableOrdersData","profileData","total_earnings","delivered_count","filter","order","includes","status","length","rating_count","slice","driver_id","requestedResponse","concat","error","console","log","navigator","geolocation","getCurrentPosition","position","lat","coords","latitude","lng","longitude","updateLocation","post","success","acceptOrder","orderId","acceptOrderRequest","rejectOrderRequest","getStatusColor","colors","pending","requested","accepted","assigned","picked","delivering","delivered","cancelled","formatStatus","charAt","toUpperCase","children","className","size","div","initial","opacity","y","animate","name","onClick","title","transition","delay","toFixed","disabled","to","map","index","x","id","customer_name","fare_total","distance_km","pickup_address","drop_address","pickup","drop","Math","sqrt","pow","driver_share","Date","created_at","toLocaleDateString"],"sources":["E:/swiftlogix.shlok/frontend/src/pages/driver/DriverDashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { motion } from 'framer-motion';\r\nimport { \r\n  DollarSign, \r\n  Package, \r\n  Clock, \r\n  TrendingUp,\r\n  Navigation,\r\n  Star,\r\n  Eye,\r\n  AlertCircle,\r\n  Truck,\r\n  MessageCircle,\r\n  RefreshCw\r\n} from 'lucide-react';\r\nimport Layout from '../../components/Layout/Layout';\r\nimport { useAuth } from '../../contexts/AuthContext';\r\nimport api from '../../utils/api';\r\nimport toast from 'react-hot-toast';\r\nimport LoadingSpinner from '../../components/LoadingSpinner';\r\n\r\nconst DriverDashboard = () => {\r\n  const { user } = useAuth();\r\n  const [stats, setStats] = useState({\r\n    totalEarnings: 0,\r\n    deliveredCount: 0,\r\n    activeOrders: 0,\r\n    rating: 0,\r\n    ratingCount: 0\r\n  });\r\n  const [orders, setOrders] = useState([]);\r\n  const [availableOrders, setAvailableOrders] = useState([]);\r\n  const [requestedOrders, setRequestedOrders] = useState([]);\r\n  const [driverProfile, setDriverProfile] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [locationLoading, setLocationLoading] = useState(false);\r\n  const [currentLocation, setCurrentLocation] = useState(null);\r\n\r\n  useEffect(() => {\r\n    fetchDashboardData();\r\n    getCurrentLocation();\r\n  }, []);\r\n\r\n  const fetchDashboardData = async () => {\r\n    try {\r\n      const [\r\n        earningsResponse,\r\n        ordersResponse,\r\n        availableOrdersResponse,\r\n        profileResponse\r\n      ] = await Promise.all([\r\n        api.get('/driver/earnings'),\r\n        api.get('/driver/orders'),\r\n        api.get('/driver/orders/available'),\r\n        api.get('/driver/profile')\r\n      ]);\r\n\r\n      const earningsData = earningsResponse.data;\r\n      const ordersData = ordersResponse.data;\r\n      const availableOrdersData = availableOrdersResponse.data;\r\n      const profileData = profileResponse.data;\r\n\r\n      setStats({\r\n        totalEarnings: earningsData.total_earnings || 0,\r\n        deliveredCount: earningsData.delivered_count || 0,\r\n        activeOrders: ordersData.filter(order => \r\n          ['accepted', 'assigned', 'picked', 'delivering'].includes(order.status)\r\n        ).length,\r\n        rating: profileData.rating || 0,\r\n        ratingCount: profileData.rating_count || 0\r\n      });\r\n\r\n      setOrders(ordersData.slice(0, 5)); // Recent 5 orders\r\n      setAvailableOrders(availableOrdersData.slice(0, 3)); // Top 3 available orders\r\n      setDriverProfile(profileData);\r\n\r\n      // Fetch requested orders if driver has profile\r\n      if (profileData.driver_id) {\r\n        try {\r\n          const requestedResponse = await api.get(`/driver/orders/requested/${profileData.driver_id}`);\r\n          setRequestedOrders(requestedResponse.data);\r\n        } catch (error) {\r\n          console.log('No requested orders or error fetching them');\r\n        }\r\n      }\r\n\r\n    } catch (error) {\r\n      toast.error('Failed to load dashboard data');\r\n      console.error('Dashboard error:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const getCurrentLocation = () => {\r\n    if (navigator.geolocation) {\r\n      navigator.geolocation.getCurrentPosition(\r\n        (position) => {\r\n          setCurrentLocation({\r\n            lat: position.coords.latitude,\r\n            lng: position.coords.longitude\r\n          });\r\n        },\r\n        (error) => {\r\n          console.log('Location error:', error);\r\n        }\r\n      );\r\n    }\r\n  };\r\n\r\n  const updateLocation = async () => {\r\n    if (!currentLocation) {\r\n      toast.error('Location not available. Please enable location services.');\r\n      return;\r\n    }\r\n\r\n    setLocationLoading(true);\r\n    try {\r\n      await api.post('/driver/location', {\r\n        lat: currentLocation.lat,\r\n        lng: currentLocation.lng\r\n      });\r\n      toast.success('Location updated successfully!');\r\n    } catch (error) {\r\n      toast.error('Failed to update location');\r\n    } finally {\r\n      setLocationLoading(false);\r\n    }\r\n  };\r\n\r\n  const acceptOrder = async (orderId) => {\r\n    try {\r\n      await api.post(`/driver/orders/${orderId}/accept`);\r\n      toast.success('Order accepted successfully!');\r\n      fetchDashboardData(); // Refresh data\r\n    } catch (error) {\r\n      toast.error('Failed to accept order');\r\n    }\r\n  };\r\n\r\n  const acceptOrderRequest = async (orderId) => {\r\n    try {\r\n      await api.post(`/driver/orders/${orderId}/accept_request`);\r\n      toast.success('Order request accepted!');\r\n      fetchDashboardData(); // Refresh data\r\n    } catch (error) {\r\n      toast.error('Failed to accept order request');\r\n    }\r\n  };\r\n\r\n  const rejectOrderRequest = async (orderId) => {\r\n    try {\r\n      await api.post(`/driver/orders/${orderId}/reject_request`);\r\n      toast.success('Order request rejected');\r\n      fetchDashboardData(); // Refresh data\r\n    } catch (error) {\r\n      toast.error('Failed to reject order request');\r\n    }\r\n  };\r\n\r\n  const getStatusColor = (status) => {\r\n    const colors = {\r\n      pending: 'bg-warning-100 text-warning-800',\r\n      requested: 'bg-secondary-100 text-secondary-800',\r\n      accepted: 'bg-primary-100 text-primary-800',\r\n      assigned: 'bg-primary-100 text-primary-800',\r\n      picked: 'bg-accent-100 text-accent-800',\r\n      delivering: 'bg-accent-100 text-accent-800',\r\n      delivered: 'bg-success-100 text-success-800',\r\n      cancelled: 'bg-danger-100 text-danger-800'\r\n    };\r\n    return colors[status] || 'bg-neutral-100 text-neutral-800';\r\n  };\r\n\r\n  const formatStatus = (status) => {\r\n    return status.charAt(0).toUpperCase() + status.slice(1);\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <Layout>\r\n        <div className=\"flex items-center justify-center min-h-screen\">\r\n          <LoadingSpinner size=\"xl\" />\r\n        </div>\r\n      </Layout>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Layout>\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n        {/* Header */}\r\n        <motion.div\r\n          initial={{ opacity: 0, y: 20 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          className=\"mb-8\"\r\n        >\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <h1 className=\"text-3xl font-bold text-neutral-900 mb-2\">\r\n                Welcome back, {user?.name}!\r\n              </h1>\r\n              <p className=\"text-neutral-600\">\r\n                Manage your deliveries and track your earnings\r\n              </p>\r\n            </div>\r\n            <div className=\"flex items-center space-x-4\">\r\n              <button\r\n                onClick={fetchDashboardData}\r\n                className=\"btn btn-ghost p-2\"\r\n                title=\"Refresh Dashboard\"\r\n              >\r\n                <RefreshCw className=\"h-5 w-5\" />\r\n              </button>\r\n              {driverProfile && (\r\n                <div className=\"text-right\">\r\n                  <p className=\"text-sm text-neutral-600\">Driver ID</p>\r\n                  <p className=\"font-semibold text-neutral-900\">#{driverProfile.driver_id}</p>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </motion.div>\r\n\r\n        {/* Stats Cards */}\r\n        <motion.div\r\n          initial={{ opacity: 0, y: 20 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ delay: 0.1 }}\r\n          className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\"\r\n        >\r\n          <div className=\"card p-6 card-hover\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-sm font-medium text-neutral-600\">Total Earnings</p>\r\n                <p className=\"text-2xl font-bold text-neutral-900\">₹{stats.totalEarnings.toFixed(2)}</p>\r\n              </div>\r\n              <div className=\"w-12 h-12 bg-success-100 rounded-lg flex items-center justify-center\">\r\n                <DollarSign className=\"h-6 w-6 text-success-600\" />\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"card p-6 card-hover\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-sm font-medium text-neutral-600\">Deliveries</p>\r\n                <p className=\"text-2xl font-bold text-neutral-900\">{stats.deliveredCount}</p>\r\n              </div>\r\n              <div className=\"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center\">\r\n                <Package className=\"h-6 w-6 text-primary-600\" />\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"card p-6 card-hover\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-sm font-medium text-neutral-600\">Active Orders</p>\r\n                <p className=\"text-2xl font-bold text-neutral-900\">{stats.activeOrders}</p>\r\n              </div>\r\n              <div className=\"w-12 h-12 bg-warning-100 rounded-lg flex items-center justify-center\">\r\n                <Clock className=\"h-6 w-6 text-warning-600\" />\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"card p-6 card-hover\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-sm font-medium text-neutral-600\">Rating</p>\r\n                <div className=\"flex items-center space-x-1\">\r\n                  <p className=\"text-2xl font-bold text-neutral-900\">{stats.rating.toFixed(1)}</p>\r\n                  <Star className=\"h-5 w-5 text-warning-400 fill-current\" />\r\n                </div>\r\n                <p className=\"text-xs text-neutral-500\">({stats.ratingCount} reviews)</p>\r\n              </div>\r\n              <div className=\"w-12 h-12 bg-accent-100 rounded-lg flex items-center justify-center\">\r\n                <TrendingUp className=\"h-6 w-6 text-accent-600\" />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </motion.div>\r\n\r\n        {/* Quick Actions */}\r\n        <motion.div\r\n          initial={{ opacity: 0, y: 20 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ delay: 0.2 }}\r\n          className=\"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8\"\r\n        >\r\n          <button\r\n            onClick={updateLocation}\r\n            disabled={locationLoading}\r\n            className=\"card p-6 card-hover group cursor-pointer bg-gradient-to-br from-primary-500 to-primary-600 text-white\"\r\n          >\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <h3 className=\"text-lg font-semibold mb-2\">Update Location</h3>\r\n                <p className=\"text-primary-100\">Share your current location</p>\r\n              </div>\r\n              {locationLoading ? (\r\n                <LoadingSpinner size=\"sm\" />\r\n              ) : (\r\n                <Navigation className=\"h-8 w-8 group-hover:scale-110 transition-transform duration-200\" />\r\n              )}\r\n            </div>\r\n          </button>\r\n\r\n          <Link\r\n            to=\"/driver/orders\"\r\n            className=\"card p-6 card-hover group cursor-pointer\"\r\n          >\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <h3 className=\"text-lg font-semibold text-neutral-900 mb-2\">View Orders</h3>\r\n                <p className=\"text-neutral-600\">See all available orders</p>\r\n              </div>\r\n              <Package className=\"h-8 w-8 text-secondary-500 group-hover:scale-110 transition-transform duration-200\" />\r\n            </div>\r\n          </Link>\r\n\r\n          <Link\r\n            to=\"/driver/profile\"\r\n            className=\"card p-6 card-hover group cursor-pointer\"\r\n          >\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <h3 className=\"text-lg font-semibold text-neutral-900 mb-2\">My Profile</h3>\r\n                <p className=\"text-neutral-600\">Update your information</p>\r\n              </div>\r\n              <Truck className=\"h-8 w-8 text-accent-500 group-hover:scale-110 transition-transform duration-200\" />\r\n            </div>\r\n          </Link>\r\n\r\n          <Link\r\n            to=\"/driver/chat\"\r\n            className=\"card p-6 card-hover group cursor-pointer\"\r\n          >\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <h3 className=\"text-lg font-semibold text-neutral-900 mb-2\">Support Chat</h3>\r\n                <p className=\"text-neutral-600\">Get help from support</p>\r\n              </div>\r\n              <MessageCircle className=\"h-8 w-8 text-success-500 group-hover:scale-110 transition-transform duration-200\" />\r\n            </div>\r\n          </Link>\r\n        </motion.div>\r\n\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\r\n          {/* Order Requests */}\r\n          {requestedOrders.length > 0 && (\r\n            <motion.div\r\n              initial={{ opacity: 0, y: 20 }}\r\n              animate={{ opacity: 1, y: 0 }}\r\n              transition={{ delay: 0.3 }}\r\n              className=\"card\"\r\n            >\r\n              <div className=\"p-6 border-b border-neutral-200\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <h2 className=\"text-xl font-semibold text-neutral-900 flex items-center\">\r\n                    <AlertCircle className=\"h-5 w-5 mr-2 text-warning-500\" />\r\n                    Order Requests\r\n                  </h2>\r\n                  <span className=\"bg-warning-100 text-warning-800 px-2 py-1 rounded-full text-sm font-medium\">\r\n                    {requestedOrders.length} pending\r\n                  </span>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"p-6\">\r\n                <div className=\"space-y-4\">\r\n                  {requestedOrders.map((order, index) => (\r\n                    <motion.div\r\n                      key={order.id}\r\n                      initial={{ opacity: 0, x: -20 }}\r\n                      animate={{ opacity: 1, x: 0 }}\r\n                      transition={{ delay: 0.4 + index * 0.1 }}\r\n                      className=\"p-4 bg-warning-50 border border-warning-200 rounded-lg\"\r\n                    >\r\n                      <div className=\"flex items-center justify-between mb-3\">\r\n                        <div>\r\n                          <p className=\"font-semibold text-neutral-900\">Order #{order.id}</p>\r\n                          <p className=\"text-sm text-neutral-600\">Customer: {order.customer_name}</p>\r\n                        </div>\r\n                        <div className=\"text-right\">\r\n                          <p className=\"font-semibold text-success-600\">₹{order.fare_total}</p>\r\n                          <p className=\"text-sm text-neutral-500\">{order.distance_km}km</p>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"flex items-center justify-between\">\r\n                        <div className=\"text-sm text-neutral-600\">\r\n                          <p>{order.pickup_address}</p>\r\n                          <p>→ {order.drop_address}</p>\r\n                        </div>\r\n                        <div className=\"flex space-x-2\">\r\n                          <button\r\n                            onClick={() => acceptOrderRequest(order.id)}\r\n                            className=\"btn btn-primary text-sm px-3 py-1\"\r\n                          >\r\n                            Accept\r\n                          </button>\r\n                          <button\r\n                            onClick={() => rejectOrderRequest(order.id)}\r\n                            className=\"btn btn-ghost text-sm px-3 py-1\"\r\n                          >\r\n                            Reject\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                    </motion.div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            </motion.div>\r\n          )}\r\n\r\n          {/* Available Orders */}\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ delay: 0.3 }}\r\n            className=\"card\"\r\n          >\r\n            <div className=\"p-6 border-b border-neutral-200\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <h2 className=\"text-xl font-semibold text-neutral-900\">Available Orders</h2>\r\n                <Link\r\n                  to=\"/driver/orders\"\r\n                  className=\"text-primary-600 hover:text-primary-700 font-medium transition-colors duration-200\"\r\n                >\r\n                  View All\r\n                </Link>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"p-6\">\r\n              {availableOrders.length > 0 ? (\r\n                <div className=\"space-y-4\">\r\n                  {availableOrders.map((order, index) => (\r\n                    <motion.div\r\n                      key={order.id}\r\n                      initial={{ opacity: 0, x: -20 }}\r\n                      animate={{ opacity: 1, x: 0 }}\r\n                      transition={{ delay: 0.4 + index * 0.1 }}\r\n                      className=\"flex items-center justify-between p-4 bg-neutral-50 rounded-lg hover:bg-neutral-100 transition-colors duration-200\"\r\n                    >\r\n                      <div className=\"flex-1\">\r\n                        <div className=\"flex items-center space-x-3 mb-2\">\r\n                          <span className=\"font-medium text-neutral-900\">\r\n                            Order #{order.id}\r\n                          </span>\r\n                          <span className=\"px-2 py-1 rounded-full text-xs font-medium bg-success-100 text-success-800\">\r\n                            ₹{order.fare_total}\r\n                          </span>\r\n                        </div>\r\n                        <p className=\"text-sm text-neutral-600 mb-1\">\r\n                          {order.pickup_address} → {order.drop_address}\r\n                        </p>\r\n                        <p className=\"text-xs text-neutral-500\">\r\n                          Distance: {order.pickup && order.drop ? \r\n                            Math.sqrt(\r\n                              Math.pow(order.drop[0] - order.pickup[0], 2) + \r\n                              Math.pow(order.drop[1] - order.pickup[1], 2)\r\n                            ).toFixed(1) : 'N/A'\r\n                          }km\r\n                        </p>\r\n                      </div>\r\n                      <button\r\n                        onClick={() => acceptOrder(order.id)}\r\n                        className=\"btn btn-primary text-sm\"\r\n                      >\r\n                        Accept\r\n                      </button>\r\n                    </motion.div>\r\n                  ))}\r\n                </div>\r\n              ) : (\r\n                <div className=\"text-center py-12\">\r\n                  <Package className=\"h-12 w-12 text-neutral-400 mx-auto mb-4\" />\r\n                  <h3 className=\"text-lg font-medium text-neutral-900 mb-2\">No orders available</h3>\r\n                  <p className=\"text-neutral-600 mb-4\">\r\n                    Check back later for new delivery opportunities\r\n                  </p>\r\n                  <button\r\n                    onClick={fetchDashboardData}\r\n                    className=\"btn btn-outline\"\r\n                  >\r\n                    Refresh\r\n                  </button>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </motion.div>\r\n\r\n          {/* Recent Orders */}\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ delay: 0.4 }}\r\n            className=\"card\"\r\n          >\r\n            <div className=\"p-6 border-b border-neutral-200\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <h2 className=\"text-xl font-semibold text-neutral-900\">Recent Orders</h2>\r\n                <Link\r\n                  to=\"/driver/orders\"\r\n                  className=\"text-primary-600 hover:text-primary-700 font-medium transition-colors duration-200\"\r\n                >\r\n                  View All\r\n                </Link>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"p-6\">\r\n              {orders.length > 0 ? (\r\n                <div className=\"space-y-4\">\r\n                  {orders.map((order, index) => (\r\n                    <motion.div\r\n                      key={order.id}\r\n                      initial={{ opacity: 0, x: -20 }}\r\n                      animate={{ opacity: 1, x: 0 }}\r\n                      transition={{ delay: 0.5 + index * 0.1 }}\r\n                      className=\"flex items-center justify-between p-4 bg-neutral-50 rounded-lg hover:bg-neutral-100 transition-colors duration-200\"\r\n                    >\r\n                      <div className=\"flex-1\">\r\n                        <div className=\"flex items-center space-x-3 mb-2\">\r\n                          <span className=\"font-medium text-neutral-900\">\r\n                            Order #{order.id}\r\n                          </span>\r\n                          <span className={`px-2 py-1 rounded-full text-xs font-medium ${getStatusColor(order.status)}`}>\r\n                            {formatStatus(order.status)}\r\n                          </span>\r\n                        </div>\r\n                        <p className=\"text-sm text-neutral-600 mb-1\">\r\n                          Distance: {order.distance_km}km • Earnings: ₹{order.driver_share}\r\n                        </p>\r\n                        <p className=\"text-xs text-neutral-500\">\r\n                          {new Date(order.created_at).toLocaleDateString()}\r\n                        </p>\r\n                      </div>\r\n                      <button className=\"btn btn-ghost p-2\">\r\n                        <Eye className=\"h-4 w-4\" />\r\n                      </button>\r\n                    </motion.div>\r\n                  ))}\r\n                </div>\r\n              ) : (\r\n                <div className=\"text-center py-12\">\r\n                  <Package className=\"h-12 w-12 text-neutral-400 mx-auto mb-4\" />\r\n                  <h3 className=\"text-lg font-medium text-neutral-900 mb-2\">No orders yet</h3>\r\n                  <p className=\"text-neutral-600 mb-4\">\r\n                    Start accepting orders to see them here\r\n                  </p>\r\n                  <Link\r\n                    to=\"/driver/orders\"\r\n                    className=\"btn btn-primary\"\r\n                  >\r\n                    View Available Orders\r\n                  </Link>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </motion.div>\r\n        </div>\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default DriverDashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}